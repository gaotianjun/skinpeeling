<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework</title>
    <link rel="stylesheet" href="skincss/skinpeeling.css" type="text/css">
</head>
<body>
    <fieldset id="field">
        <legend id="headline">网页换肤</legend>
        <div id="colors">
            <ul>
                <li id="one" style="background-color: #EEB4B4"></li>
                <li id="two" style="background-color: #EEB422"></li>
                <li id="three" style="background-color: #FF0000"></li>
                <li id="four" style="background-color: #DBDBDB"></li>
                <li id="five" style="background-color: #B0E0E6"></li>
                <li id="six" style="background-color: #DDA0DD"></li>
            </ul>
        </div>
        <div id="words">
            LocalStorage将数据保存在客户端本地的硬件设备中，即使浏览器被关闭了，该数据依然存在，下次打开浏览器访问网站时仍然可以继续使用。
        </div>
    </fieldset>
</body>
    <script type="text/javascript">
        var list = document.getElementsByTagName("li");
        var storage=window.localStorage;
        var words=document.getElementById("words");
        if(!window.localStorage){
            alert("浏览器不支持localstorage");
        }

        if(!storage.color){
            list[0].setAttribute("class","moveup"); 
            storage.setItem("color",list[0].style.backgroundColor);
        }
        else{
            words.style.backgroundColor=storage.getItem("color");
            for(var i=0;i<list.length;i++){
                list[i].removeAttribute("class");
                var thisColor=list[i].style.backgroundColor;
                var localColor=storage.getItem("color");
                if(thisColor===localColor){
                    list[i].setAttribute("class","moveup");
                }
            }
        }

        for(var i=0;i<list.length;i++){
            list[i].onclick=function(){
                for(var i=0;i<list.length;i++){
                    list[i].removeAttribute("class");
                }
                this.setAttribute("class","moveup");
                var bgcolor=this.style.backgroundColor;
                storage.setItem("color",bgcolor);
                words.style.backgroundColor=bgcolor;
            }
        }

        
    </script>
</html>